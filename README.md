# 2024 04 12 新增
在原来的库上面小小的增加了一个转发视频号到群里就会自动获取视频号相关信息返回，
用法还是和以前一样，扫码登录即可，群聊的话只会返回视频号相关的信息，主要就是想提供一个思路，
主要就是新建了一个自定义的回复机器人，自定义的条件进行回复，也强制了分享内容就走自定义机器人
大家可以自行改动，感谢原库作者的工作，因为现有的代码是去年三月的了，改了一些东西实在不想在新的
代码里重复修改，也就没有打算pr到原来的库，全当大家借鉴一下思路

关于视频号的信息思路：转发到微信上，微信会识别内容，里面就会有标题/视频ID等信息，再通过抓包获取到一个详情
的获取接口，通过微信账号信息即可获取完整内容，如：可以播放的地址，时长，作者名称，标题等

ps：获取视频号ID这里会有点小问题，好像不同版本的微信和不同系统发送的内容不一样，导致部分视频号ID获取不到，这个
大家再正则哪里可以做修改，也可以更进一步，视频号就返回信息，其他的群聊发消息还是正常机器人，
😂当然，也可以直接拉取最新的库，再那个基础上再完善，现在已经有好多好多功能了。

只是体验一下视频号这个的话，装完环境不需要任何配置，就可以启动，回复其他信息超时就超时吧（因为会调用接口，需要账号和🪜）
在任意群聊里转发一个视频号就能返回基础信息，ps：注意拿个小号尝试，

**(1) 安装核心依赖 (必选)：**

```bash
pip3 install -r requirements.txt
```

其中`tiktoken`要求`python`版本在3.8以上，它用于精确计算会话使用的tokens数量，可以不装但建议安装。

```bash
python3 app.py
```
群晖docker安装，直接拉取映像映射/app/QR目录，例如/volume1/wechat_video_channel:/app/QR,运行后，每次生成的二维码都会在wechat_video_channel文件夹中刷新，打开扫码即可
```bash
docker pull autunn/wechat_video_channel:latest
```
## 感谢以下库和博主提供的思路，拥抱开源：
https://github.com/zhayujie/chatgpt-on-wechat

https://www.52pojie.cn/thread-1896071-1-1.html
